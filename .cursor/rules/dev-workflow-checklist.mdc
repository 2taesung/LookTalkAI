---
description: 코드 개발 시작 전과 완료 후 반드시 실행해야 하는 체크리스트입니다. Biome lint, TypeScript 타입 체크, 테스트 실행을 포함합니다.
globs:
alwaysApply: true
---
# Development Workflow Checklist

코드 개발 전/후에 반드시 실행해야 하는 체크리스트를 정의합니다.
모든 개발 작업은 이 체크리스트를 통과해야만 진행/완료할 수 있습니다.

## 개발 전 필수 체크리스트

코드 개발을 시작하기 전에 반드시 다음 항목들을 확인해야 합니다:

### 1. Biome Lint 확인
```bash
pnpm lint
```
- **목적**: 코드 스타일 및 린트 규칙 준수 확인
- **통과 조건**: 모든 린트 에러 및 경고가 없어야 함
- **실패 시**: 개발 진행 불가, 린트 에러 수정 후 재확인

### 2. TypeScript 타입 에러 확인
```bash
pnpm check-types
```
- **목적**: TypeScript 타입 안정성 검증
- **통과 조건**: 타입 에러가 없어야 함
- **실패 시**: 개발 진행 불가, 타입 에러 수정 후 재확인

### 3. 기존 테스트 확인
```bash
pnpm test
```
- **목적**: 기존 기능의 정상 동작 확인
- **통과 조건**: 모든 테스트가 통과해야 함
- **실패 시**: 개발 진행 불가, 실패한 테스트 수정 후 재확인

## 개발 중 권장 사항

- 작은 단위로 커밋하며 진행
- 각 커밋 전에 `pnpm lint` 실행하여 린트 규칙 준수 확인
- 복잡한 로직 구현 시 중간 단계에서 `pnpm check-types` 실행

## 개발 후 필수 체크리스트

코드 개발 완료 후 반드시 다음 항목들을 확인해야 합니다:

### 1. Biome Lint 확인
```bash
pnpm lint
```
- **목적**: 새로 작성한 코드의 스타일 및 린트 규칙 준수 확인
- **통과 조건**: 모든 린트 에러 및 경고가 없어야 함
- **실패 시**: 개발 완료 불가, 린트 에러 수정 후 재확인

### 2. TypeScript 타입 에러 확인
```bash
pnpm check-types
```
- **목적**: 새로 작성한 코드의 타입 안정성 검증
- **통과 조건**: 타입 에러가 없어야 함
- **실패 시**: 개발 완료 불가, 타입 에러 수정 후 재확인

### 3. 전체 테스트 확인
```bash
pnpm test
```
- **목적**: 새로운 기능 및 기존 기능의 정상 동작 확인
- **통과 조건**: 모든 테스트(기존 + 신규)가 통과해야 함
- **실패 시**: 개발 완료 불가, 실패한 테스트 수정 후 재확인

## 개발 완료 기준

다음 조건을 **모두** 만족해야 개발이 완료된 것으로 간주합니다:

- ✅ **개발 전 체크리스트 3가지** 모두 통과
- ✅ **개발 진행** 완료
- ✅ **개발 후 체크리스트 3가지** 모두 통과

### 체크리스트 실패 시 대응

1. **Lint 실패**:
   - `pnpm biome check --write .`로 자동 수정 시도
   - 자동 수정되지 않는 에러는 수동 수정
   - 재확인: `pnpm lint`

2. **타입 에러 실패**:
   - 에러 메시지 확인하여 타입 정의 수정
   - `any` 타입 사용 금지 (테스트 코드 포함)
   - 명시적 타입 정의 추가
   - 재확인: `pnpm check-types`

3. **테스트 실패**:
   - 실패한 테스트 케이스 확인
   - 코드 로직 또는 테스트 코드 수정
   - 새로운 기능에 대한 테스트 추가
   - 재확인: `pnpm test`

## Claude Code 사용 시 주의사항

### 개발 시작 전
- 반드시 개발 전 체크리스트 3가지를 실행하고 결과 확인
- 실패 항목이 있으면 먼저 해결 후 개발 시작

### 개발 완료 후
- 반드시 개발 후 체크리스트 3가지를 실행하고 결과 확인
- 모든 항목이 통과해야만 "개발 완료"로 보고
- 실패 항목이 있으면 수정 후 재확인

### 예외 상황
- 메모리 부족 등의 환경적 이슈로 테스트 실행이 불가능한 경우:
  - 상황을 명확히 설명
  - 가능한 범위에서 검증 수행
  - 사용자에게 환경 이슈 해결 필요성 전달

## 워크플로우 예시

```bash
# 1. 개발 전 체크리스트
pnpm lint           # ✅ 통과
pnpm check-types    # ✅ 통과
pnpm test           # ✅ 통과

# 2. 개발 진행
# ... 코드 작성 ...

# 3. 개발 후 체크리스트
pnpm lint           # ✅ 통과
pnpm check-types    # ✅ 통과
pnpm test           # ✅ 통과

# 4. 개발 완료! 🎉
```

## 참고 명령어

### Biome
```bash
pnpm lint                      # 린트 체크
pnpm biome check --write .     # 자동 수정
pnpm biome check path/to/file  # 특정 파일 체크
```

### TypeScript
```bash
pnpm check-types              # 전체 타입 체크
pnpm tsc --noEmit            # 타입 체크 (컴파일 없이)
```

### 테스트
```bash
pnpm test                     # 전체 테스트
pnpm test path/to/file       # 특정 파일 테스트
pnpm test --watch            # 감시 모드로 테스트
```
