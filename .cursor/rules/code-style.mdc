---
description: 
globs: 
alwaysApply: true
---
# 코드 스타일과 구조

## 기본 원칙
- 파일을 import 할 때에는 반드시 절대경로를 사용
- 간결하고 기술적인 TypeScript 코드를 정확한 예시와 함께 작성
- 함수형과 선언적 프로그래밍 패턴 사용
- 클래스 패턴 지양
- 보조 동사를 포함한 설명적인 변수명 사용 (예: isLoading, hasError)
- 파일 구조: 내보낸 컴포넌트, 하위 컴포넌트, 헬퍼 함수, 정적 콘텐츠, 타입

## 구문과 형식
- 순수 함수에는 function 키워드 사용
- 조건문에서 불필요한 중괄호 피하기
- forEach 대신 for…of 루프 사용
- 선언적 JSX 사용

## Biome 린트 규칙 준수 (필수)
프로젝트는 Biome를 코드 품질 도구로 사용합니다. 다음 규칙들을 반드시 준수해야 합니다:

### 변수 선언
- **재할당되지 않는 변수는 `const` 사용** (`let` 금지)
  ```typescript
  // ❌ 잘못된 예
  let userName = 'John';  // 재할당되지 않음

  // ✅ 올바른 예
  const userName = 'John';
  ```

### 포맷팅
- **문자열 연결 시 일관된 들여쓰기**
- **후행 쉼표 사용** (배열, 객체, 함수 인자 마지막에)
- **파일 끝에 개행 추가**

### any 타입 사용 금지
- **프로덕션 코드와 테스트 코드 모두에서 `any` 타입 사용 금지**
- 불가피한 경우 명시적 타입 정의 또는 `unknown` 사용
- 테스트 모킹 시에도 구체적인 인터페이스 정의

```typescript
// ❌ 잘못된 예
const mockApiClient = apiClient as any;
const requests: any[] = [];

// ✅ 올바른 예
interface MockApiClient {
  v3: {
    someHandler: ReturnType<typeof vi.fn>;
  };
}
const mockApiClient = apiClient as unknown as MockApiClient;

interface PaginationRequest {
  url: string;
  timestamp: number;
}
const requests: PaginationRequest[] = [];
```

### Biome 체크 명령어
```bash
# 전체 프로젝트 체크
pnpm biome check .

# 특정 파일 체크
pnpm biome check path/to/file.ts

# 자동 수정 (안전한 수정만)
pnpm biome check --apply .
```

## 코드 주석

### 여러 줄 주석 (/* */) 사용
- 함수 문서화
- 복잡한 로직 설명
- 모듈 수준 문서화

예시:
```typescript
/*
 * 인증 프로세스를 다음 단계로 처리:
 * 1. 사용자 자격 증명 유효성 검사
 * 2. JWT 토큰 생성
 * 3. 보안 저장소에 새로 고침 토큰 저장
 * 4. 사용자 컨텍스트 업데이트
 */
```

### 한 줄 주석 (//) 사용
- 간단한 설명
- 특정 라인 설명
- 빠른 컨텍스트 노트

예시:
```typescript
// ISO 날짜를 로컬 시간대 형식으로 변환
```

### 불필요한 주석 피하기
- 명백한 내용 설명 금지
- 코드가 이미 명확하게 표현하는 내용 반복 금지

나쁜 예시:
```typescript
// 플래그 설정
isLoading = true;

// 카운터 증가
counter++;

// 결과 반환
return result;
``` 